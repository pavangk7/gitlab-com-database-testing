{"version":20220929081645,"name":"TmpIdxNullMemberNamespaceId","walltime":112.42460168898106,"success":true,"total_database_size_change":32768,"query_statistics":[{"query":"CREATE INDEX CONCURRENTLY \"tmp_index_for_null_member_namespace_id\" ON \"members\" (\"member_namespace_id\") WHERE member_namespace_id IS NULL /*application:test,db_config_name:ci,line:/lib/gitlab/database/migration_helpers.rb:167:in `block in add_concurrent_index'*/","calls":1,"total_time":110181.634824,"max_time":110181.634824,"mean_time":110181.634824,"rows":0},{"query":"select pg_database_size(current_database()) /*application:test,db_config_name:ci,line:/lib/gitlab/database/migrations/observers/total_database_size_change.rb:25:in `get_total_database_size'*/","calls":1,"total_time":128.59267899999998,"max_time":128.59267899999998,"mean_time":128.59267899999998,"rows":1},{"query":"SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,\n                pg_catalog.obj_description(i.oid, $1) AS comment\nFROM pg_class t\nINNER JOIN pg_index d ON t.oid = d.indrelid\nINNER JOIN pg_class i ON d.indexrelid = i.oid\nLEFT JOIN pg_namespace n ON n.oid = i.relnamespace\nWHERE i.relkind IN ($2, $3)\n  AND d.indisprimary = $4\n  AND t.relname = $5\n  AND n.nspname = ANY (current_schemas($6))\nORDER BY i.relname","calls":1,"total_time":21.935645,"max_time":21.935645,"mean_time":21.935645,"rows":15},{"query":"SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation \u003c\u003e t.typcollation\n WHERE a.attrelid = $1::regclass\n   AND a.attnum \u003e $2 AND NOT a.attisdropped\n ORDER BY a.attnum","calls":1,"total_time":3.3269699999999998,"max_time":3.3269699999999998,"mean_time":3.3269699999999998,"rows":6},{"query":"SELECT \"schema_migrations\".\"version\" FROM \"schema_migrations\" ORDER BY \"schema_migrations\".\"version\" ASC /*application:test,db_config_name:ci,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":2.526999,"max_time":2.526999,"mean_time":2.526999,"rows":5391},{"query":"SELECT \"postgres_async_indexes\".* FROM \"postgres_async_indexes\" WHERE \"postgres_async_indexes\".\"name\" = $1 LIMIT $2 /*application:test,db_config_name:ci,line:/lib/gitlab/database/async_indexes/migration_helpers.rb:24:in `unprepare_async_index_by_name'*/","calls":1,"total_time":0.8634890000000001,"max_time":0.8634890000000001,"mean_time":0.8634890000000001,"rows":0},{"query":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = $1\nAND a.attnum IN ($2)","calls":10,"total_time":0.30544699999999997,"max_time":0.034854,"mean_time":0.0305447,"rows":10},{"query":"SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas($1)) AND c.relname = $2 AND c.relkind IN ($3,$4)","calls":5,"total_time":0.202833,"max_time":0.055068,"mean_time":0.0405666,"rows":5},{"query":"select pg_stat_statements_reset() /*application:test,db_config_name:ci,line:/lib/gitlab/database/migrations/observers/query_statistics.rb:16:in `before'*/","calls":1,"total_time":0.188513,"max_time":0.188513,"mean_time":0.188513,"rows":1},{"query":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = $1\nAND a.attnum IN ($2,$3)","calls":4,"total_time":0.148126,"max_time":0.043068,"mean_time":0.0370315,"rows":8},{"query":"SELECT t.oid, t.typname\nFROM pg_type as t\nWHERE t.typname IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.081165,"max_time":0.081165,"mean_time":0.081165,"rows":10},{"query":"INSERT INTO \"schema_migrations\" (\"version\") VALUES ($1) RETURNING \"version\" /*application:test,db_config_name:ci,line:/lib/gitlab/database/migrations/lock_retry_mixin.rb:36:in `ddl_transaction'*/","calls":1,"total_time":0.07425,"max_time":0.07425,"mean_time":0.07425,"rows":1},{"query":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = $1\nAND a.attnum IN ($2,$3,$4)","calls":1,"total_time":0.048998,"max_time":0.048998,"mean_time":0.048998,"rows":3},{"query":"SET SESSION timezone TO 'UTC' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.03518,"max_time":0.03518,"mean_time":0.03518,"rows":0},{"query":"SET standard_conforming_strings = on /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.034709,"max_time":0.034709,"mean_time":0.034709,"rows":0},{"query":"SET SESSION statement_timeout TO '120s' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.032714,"max_time":0.032714,"mean_time":0.032714,"rows":0},{"query":"SET intervalstyle = iso_8601 /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.03219,"max_time":0.03219,"mean_time":0.03219,"rows":0},{"query":"SELECT $1 FROM pg_proc WHERE proname = $2 /*application:test,db_config_name:ci,line:/lib/gitlab/database/schema_helpers.rb:20:in `function_exists?'*/","calls":1,"total_time":0.029913,"max_time":0.029913,"mean_time":0.029913,"rows":1},{"query":"SELECT \"ar_internal_metadata\".* FROM \"ar_internal_metadata\" WHERE \"ar_internal_metadata\".\"key\" = $1 LIMIT $2 /*application:test,db_config_name:ci,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.025616999999999997,"max_time":0.025616999999999997,"mean_time":0.025616999999999997,"rows":1},{"query":"set client_encoding to 'UTF8'","calls":1,"total_time":0.024806,"max_time":0.024806,"mean_time":0.024806,"rows":0},{"query":"set client_encoding to 'unicode'","calls":1,"total_time":0.018387,"max_time":0.018387,"mean_time":0.018387,"rows":0},{"query":"RESET statement_timeout /*application:test,db_config_name:ci,line:/lib/gitlab/database/migration_helpers.rb:390:in `disable_statement_timeout'*/","calls":1,"total_time":0.016231,"max_time":0.016231,"mean_time":0.016231,"rows":0},{"query":"SET statement_timeout TO 0 /*application:test,db_config_name:ci,line:/lib/gitlab/database/migration_helpers.rb:386:in `disable_statement_timeout'*/","calls":1,"total_time":0.0131,"max_time":0.0131,"mean_time":0.0131,"rows":0},{"query":"SET client_min_messages TO 'warning' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.012651,"max_time":0.012651,"mean_time":0.012651,"rows":0},{"query":"SELECT pg_try_advisory_lock($1)","calls":1,"total_time":0.011507,"max_time":0.011507,"mean_time":0.011507,"rows":1},{"query":"SELECT pg_advisory_unlock($1)","calls":1,"total_time":0.011093,"max_time":0.011093,"mean_time":0.011093,"rows":1},{"query":"SELECT current_database()","calls":1,"total_time":0.01038,"max_time":0.01038,"mean_time":0.01038,"rows":1},{"query":"SHOW statement_timeout /*application:test,db_config_name:ci,line:/lib/gitlab/database/migration_helpers.rb:1624:in `statement_timeout_disabled?'*/","calls":1,"total_time":0.008426,"max_time":0.008426,"mean_time":0.008426,"rows":0},{"query":"SHOW max_identifier_length","calls":1,"total_time":0.007275,"max_time":0.007275,"mean_time":0.007275,"rows":0},{"query":"SHOW TIME ZONE /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.005841,"max_time":0.005841,"mean_time":0.005841,"rows":0},{"query":"BEGIN /*application:test,db_config_name:ci,line:/lib/gitlab/database/migrations/lock_retry_mixin.rb:36:in `ddl_transaction'*/","calls":1,"total_time":0.002411,"max_time":0.002411,"mean_time":0.002411,"rows":0},{"query":"COMMIT /*application:test,db_config_name:ci,line:/lib/gitlab/database.rb:365:in `commit'*/","calls":1,"total_time":0.002284,"max_time":0.002284,"mean_time":0.002284,"rows":0}]}