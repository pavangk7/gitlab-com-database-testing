[{"start_time":"2022-09-30T21:35:31.563533+00:00","end_time":"2022-09-30T21:35:31.604548+00:00","sql":"SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas(false)) AND c.relname = 'schema_migrations' AND c.relkind IN ('r','p')","binds":[]},{"start_time":"2022-09-30T21:35:31.604851+00:00","end_time":"2022-09-30T21:35:31.645681+00:00","sql":"SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas(false)) AND c.relname = 'ar_internal_metadata' AND c.relkind IN ('r','p')","binds":[]},{"start_time":"2022-09-30T21:35:31.645932+00:00","end_time":"2022-09-30T21:35:31.686309+00:00","sql":"SELECT current_database()","binds":[]},{"start_time":"2022-09-30T21:35:31.930350+00:00","end_time":"2022-09-30T21:35:31.970813+00:00","sql":"SET client_min_messages TO 'warning' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:35:31.971330+00:00","end_time":"2022-09-30T21:35:32.011841+00:00","sql":"SET standard_conforming_strings = on /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:35:32.012338+00:00","end_time":"2022-09-30T21:35:32.052687+00:00","sql":"SET intervalstyle = iso_8601 /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:35:32.053229+00:00","end_time":"2022-09-30T21:35:32.093548+00:00","sql":"SET SESSION statement_timeout TO '120s' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:35:32.094084+00:00","end_time":"2022-09-30T21:35:32.134570+00:00","sql":"SET SESSION timezone TO 'UTC' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:35:32.135164+00:00","end_time":"2022-09-30T21:35:32.177008+00:00","sql":"SELECT t.oid, t.typname\nFROM pg_type as t\nWHERE t.typname IN ('int2', 'int4', 'int8', 'oid', 'float4', 'float8', 'numeric', 'bool', 'timestamp', 'timestamptz')\n /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:35:32.177907+00:00","end_time":"2022-09-30T21:35:32.218221+00:00","sql":"SHOW TIME ZONE /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:35:32.258704+00:00","end_time":"2022-09-30T21:35:32.300206+00:00","sql":"SELECT pg_try_advisory_lock(3005434223539248480)","binds":[]},{"start_time":"2022-09-30T21:35:32.301119+00:00","end_time":"2022-09-30T21:35:32.382075+00:00","sql":"SELECT \"schema_migrations\".\"version\" FROM \"schema_migrations\" ORDER BY \"schema_migrations\".\"version\" ASC /*application:test,db_config_name:ci,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:35:32.393703+00:00","end_time":"2022-09-30T21:35:32.469763+00:00","sql":"SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,\n                pg_catalog.obj_description(i.oid, 'pg_class') AS comment\nFROM pg_class t\nINNER JOIN pg_index d ON t.oid = d.indrelid\nINNER JOIN pg_class i ON d.indexrelid = i.oid\nLEFT JOIN pg_namespace n ON n.oid = i.relnamespace\nWHERE i.relkind IN ('i', 'I')\n  AND d.indisprimary = 'f'\n  AND t.relname = 'members'\n  AND n.nspname = ANY (current_schemas(false))\nORDER BY i.relname\n","binds":[]},{"start_time":"2022-09-30T21:35:32.469932+00:00","end_time":"2022-09-30T21:35:32.511345+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (8)\n","binds":[]},{"start_time":"2022-09-30T21:35:32.511616+00:00","end_time":"2022-09-30T21:35:32.552655+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (2)\n","binds":[]},{"start_time":"2022-09-30T21:35:32.552857+00:00","end_time":"2022-09-30T21:35:32.593983+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (15)\n","binds":[]},{"start_time":"2022-09-30T21:35:32.594177+00:00","end_time":"2022-09-30T21:35:32.635376+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (11)\n","binds":[]},{"start_time":"2022-09-30T21:35:32.635623+00:00","end_time":"2022-09-30T21:35:32.677121+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (12)\n","binds":[]},{"start_time":"2022-09-30T21:35:32.677346+00:00","end_time":"2022-09-30T21:35:32.718716+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (20)\n","binds":[]},{"start_time":"2022-09-30T21:35:32.718910+00:00","end_time":"2022-09-30T21:35:32.760292+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (21)\n","binds":[]},{"start_time":"2022-09-30T21:35:32.760503+00:00","end_time":"2022-09-30T21:35:32.801757+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (14)\n","binds":[]},{"start_time":"2022-09-30T21:35:32.801971+00:00","end_time":"2022-09-30T21:35:32.843399+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (3,4)\n","binds":[]},{"start_time":"2022-09-30T21:35:32.843614+00:00","end_time":"2022-09-30T21:35:32.885187+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (5,2)\n","binds":[]},{"start_time":"2022-09-30T21:35:32.885413+00:00","end_time":"2022-09-30T21:35:32.927040+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (5,8)\n","binds":[]},{"start_time":"2022-09-30T21:35:32.927263+00:00","end_time":"2022-09-30T21:35:32.968877+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (5,3,4)\n","binds":[]},{"start_time":"2022-09-30T21:35:32.969083+00:00","end_time":"2022-09-30T21:35:33.010510+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (3,4)\n","binds":[]},{"start_time":"2022-09-30T21:35:33.010722+00:00","end_time":"2022-09-30T21:35:33.052065+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (1)\n","binds":[]},{"start_time":"2022-09-30T21:35:33.052263+00:00","end_time":"2022-09-30T21:35:33.093565+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (19)\n","binds":[]},{"start_time":"2022-09-30T21:35:33.094648+00:00","end_time":"2022-09-30T21:35:33.135989+00:00","sql":"SHOW statement_timeout /*application:test,db_config_name:ci,line:/lib/gitlab/database/migration_helpers.rb:1624:in `statement_timeout_disabled?'*/","binds":[]},{"start_time":"2022-09-30T21:35:33.136737+00:00","end_time":"2022-09-30T21:35:33.177956+00:00","sql":"SET statement_timeout TO 0 /*application:test,db_config_name:ci,line:/lib/gitlab/database/migration_helpers.rb:386:in `disable_statement_timeout'*/","binds":[]},{"start_time":"2022-09-30T21:35:33.178507+00:00","end_time":"2022-09-30T21:35:33.219053+00:00","sql":"SHOW max_identifier_length","binds":[]},{"start_time":"2022-09-30T21:35:33.219741+00:00","end_time":"2022-09-30T21:37:23.444556+00:00","sql":"CREATE INDEX CONCURRENTLY \"tmp_index_for_null_member_namespace_id\" ON \"members\" (\"member_namespace_id\") WHERE member_namespace_id IS NULL /*application:test,db_config_name:ci,line:/lib/gitlab/database/migration_helpers.rb:167:in `block in add_concurrent_index'*/","binds":[]},{"start_time":"2022-09-30T21:37:23.445296+00:00","end_time":"2022-09-30T21:37:23.487079+00:00","sql":"RESET statement_timeout /*application:test,db_config_name:ci,line:/lib/gitlab/database/migration_helpers.rb:390:in `disable_statement_timeout'*/","binds":[]},{"start_time":"2022-09-30T21:37:23.487505+00:00","end_time":"2022-09-30T21:37:23.529412+00:00","sql":"SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas(false)) AND c.relname = 'postgres_async_indexes' AND c.relkind IN ('r','p')","binds":[]},{"start_time":"2022-09-30T21:37:23.529677+00:00","end_time":"2022-09-30T21:37:23.571491+00:00","sql":"SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas(false)) AND c.relname = 'postgres_async_indexes' AND c.relkind IN ('r','p')","binds":[]},{"start_time":"2022-09-30T21:37:23.573810+00:00","end_time":"2022-09-30T21:37:23.620509+00:00","sql":"SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation \u003c\u003e t.typcollation\n WHERE a.attrelid = '\"postgres_async_indexes\"'::regclass\n   AND a.attnum \u003e 0 AND NOT a.attisdropped\n ORDER BY a.attnum\n","binds":[]},{"start_time":"2022-09-30T21:37:23.623049+00:00","end_time":"2022-09-30T21:37:23.672098+00:00","sql":"SELECT \"postgres_async_indexes\".* FROM \"postgres_async_indexes\" WHERE \"postgres_async_indexes\".\"name\" = 'tmp_index_for_null_member_namespace_id' LIMIT 1 /*application:test,db_config_name:ci,line:/lib/gitlab/database/async_indexes/migration_helpers.rb:24:in `unprepare_async_index_by_name'*/","binds":[]},{"start_time":"2022-09-30T21:37:23.674195+00:00","end_time":"2022-09-30T21:37:23.716062+00:00","sql":"BEGIN /*application:test,db_config_name:ci,line:/lib/gitlab/database/migrations/lock_retry_mixin.rb:36:in `ddl_transaction'*/","binds":[]},{"start_time":"2022-09-30T21:37:23.716195+00:00","end_time":"2022-09-30T21:37:23.758220+00:00","sql":"INSERT INTO \"schema_migrations\" (\"version\") VALUES ('20220929081645') RETURNING \"version\" /*application:test,db_config_name:ci,line:/lib/gitlab/database/migrations/lock_retry_mixin.rb:36:in `ddl_transaction'*/","binds":[]},{"start_time":"2022-09-30T21:37:23.758921+00:00","end_time":"2022-09-30T21:37:23.800371+00:00","sql":"COMMIT /*application:test,db_config_name:ci,line:/lib/gitlab/database.rb:365:in `commit'*/","binds":[]},{"start_time":"2022-09-30T21:37:23.801576+00:00","end_time":"2022-09-30T21:37:23.843220+00:00","sql":"SELECT \"ar_internal_metadata\".* FROM \"ar_internal_metadata\" WHERE \"ar_internal_metadata\".\"key\" = 'environment' LIMIT 1 /*application:test,db_config_name:ci,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:37:23.844311+00:00","end_time":"2022-09-30T21:37:23.885579+00:00","sql":"SELECT pg_advisory_unlock(3005434223539248480)","binds":[]},{"start_time":"2022-09-30T21:37:23.926704+00:00","end_time":"2022-09-30T21:37:24.096361+00:00","sql":"select pg_database_size(current_database()) /*application:test,db_config_name:ci,line:/lib/gitlab/database/migrations/observers/total_database_size_change.rb:25:in `get_total_database_size'*/","binds":[]}]
