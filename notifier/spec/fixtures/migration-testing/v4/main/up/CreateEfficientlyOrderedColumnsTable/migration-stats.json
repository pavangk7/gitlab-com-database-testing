{"version":20221123153833,"name":"CreateEfficientlyOrderedColumnsTable","walltime":1.24870914965868,"success":true,"total_database_size_change":40960,"query_statistics":[{"query":"select pg_database_size(current_database()) /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/observers/total_database_size_change.rb:25:in `get_total_database_size'*/","calls":1,"total_time":127.339766,"max_time":127.339766,"mean_time":127.339766,"rows":1},{"query":"CREATE TABLE \"efficiently_ordered_columns_tables\" (\"id\" bigserial primary key, \"uuid_attr\" uuid, \"bigint_attr\" bigint, \"float_attr\" float, \"time_attr\" time, \"datetime_with_timezone_attr\" timestamptz, \"date_attr\" date, \"integer_attr\" integer, \"oid_attr\" oid, \"int4range_attr\" int4range, \"boolean_attr\" boolean, \"int8range_attr\" int8range, \"inet_attr\" inet, \"jsonb_attr\" jsonb, \"numeric_attr\" decimal, \"text_attr\" text, \"created_at\" timestamptz NOT NULL, \"updated_at\" timestamptz NOT NULL, CONSTRAINT check_cff703a65d CHECK (char_length(\"text_attr\") \u003c= 255)) /*application:test,db_config_name:main,line:/lib/gitlab/database/migration_helpers/v2.rb:46:in `create_table'*/","calls":1,"total_time":23.950489,"max_time":23.950489,"mean_time":23.950489,"rows":0},{"query":"SELECT \"schema_migrations\".\"version\" FROM \"schema_migrations\" ORDER BY \"schema_migrations\".\"version\" ASC /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","calls":1,"total_time":2.6619450000000002,"max_time":2.6619450000000002,"mean_time":2.6619450000000002,"rows":5584},{"query":"select pg_stat_statements_reset() /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/observers/query_statistics.rb:16:in `before'*/","calls":1,"total_time":0.17079899999999998,"max_time":0.17079899999999998,"mean_time":0.17079899999999998,"rows":1},{"query":"SET SESSION timezone TO 'UTC' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","calls":1,"total_time":0.119398,"max_time":0.119398,"mean_time":0.119398,"rows":0},{"query":"SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas($1)) AND c.relname = $2 AND c.relkind IN ($3,$4)","calls":3,"total_time":0.10959399999999998,"max_time":0.041832999999999995,"mean_time":0.036531333333333325,"rows":3},{"query":"SELECT t.oid, t.typname\nFROM pg_type as t\nWHERE t.typname IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","calls":1,"total_time":0.075883,"max_time":0.075883,"mean_time":0.075883,"rows":10},{"query":"INSERT INTO \"schema_migrations\" (\"version\") VALUES ($1) RETURNING \"version\" /*application:test,db_config_name:main,line:/lib/gitlab/database.rb:332:in `block in transaction'*/","calls":1,"total_time":0.042753,"max_time":0.042753,"mean_time":0.042753,"rows":1},{"query":"SELECT \"ar_internal_metadata\".* FROM \"ar_internal_metadata\" WHERE \"ar_internal_metadata\".\"key\" = $1 LIMIT $2 /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","calls":1,"total_time":0.035529,"max_time":0.035529,"mean_time":0.035529,"rows":1},{"query":"SET SESSION statement_timeout TO '120s' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","calls":1,"total_time":0.034188,"max_time":0.034188,"mean_time":0.034188,"rows":0},{"query":"SELECT $1 FROM pg_proc WHERE proname = $2 /*application:test,db_config_name:main,line:/lib/gitlab/database/schema_helpers.rb:20:in `function_exists?'*/","calls":1,"total_time":0.03048,"max_time":0.03048,"mean_time":0.03048,"rows":1},{"query":"SET standard_conforming_strings = on /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","calls":1,"total_time":0.028867,"max_time":0.028867,"mean_time":0.028867,"rows":0},{"query":"set client_encoding to 'UTF8'","calls":1,"total_time":0.025085,"max_time":0.025085,"mean_time":0.025085,"rows":0},{"query":"SET intervalstyle = iso_8601 /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","calls":1,"total_time":0.024772,"max_time":0.024772,"mean_time":0.024772,"rows":0},{"query":"set client_encoding to 'unicode'","calls":1,"total_time":0.018367,"max_time":0.018367,"mean_time":0.018367,"rows":0},{"query":"SELECT pg_advisory_unlock($1)","calls":1,"total_time":0.013124,"max_time":0.013124,"mean_time":0.013124,"rows":1},{"query":"SET client_min_messages TO 'warning' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","calls":1,"total_time":0.012569,"max_time":0.012569,"mean_time":0.012569,"rows":0},{"query":"SELECT pg_try_advisory_lock($1)","calls":1,"total_time":0.012551000000000001,"max_time":0.012551000000000001,"mean_time":0.012551000000000001,"rows":1},{"query":"SELECT current_database()","calls":1,"total_time":0.010979,"max_time":0.010979,"mean_time":0.010979,"rows":1},{"query":"SHOW TIME ZONE /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","calls":1,"total_time":0.0069,"max_time":0.0069,"mean_time":0.0069,"rows":0},{"query":"COMMIT /*application:test,db_config_name:main,line:/lib/gitlab/database.rb:365:in `commit'*/","calls":1,"total_time":0.002031,"max_time":0.002031,"mean_time":0.002031,"rows":0},{"query":"BEGIN /*application:test,db_config_name:main,line:/lib/gitlab/database/migration_helpers/v2.rb:46:in `create_table'*/","calls":1,"total_time":0.001313,"max_time":0.001313,"mean_time":0.001313,"rows":0}]}