{"version":20210604232017,"name":"DropTestTable","walltime":1.2941431254148483,"success":true,"total_database_size_change":-24576,"query_statistics":[{"query":"select pg_database_size(current_database()) /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/observers/total_database_size_change.rb:25:in `get_total_database_size'*/","calls":1,"total_time":135.13333799999998,"max_time":135.13333799999998,"mean_time":135.13333799999998,"rows":1},{"query":"SELECT \"schema_migrations\".\"version\" FROM \"schema_migrations\" ORDER BY \"schema_migrations\".\"version\" ASC /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":2.655891,"max_time":2.655891,"mean_time":2.655891,"rows":5387},{"query":"DROP TABLE \"test_tables\" /*application:test,db_config_name:main,line:/db/post_migrate/20210604232017_drop_test_table.rb:5:in `change'*/","calls":1,"total_time":2.609645,"max_time":2.609645,"mean_time":2.609645,"rows":0},{"query":"select pg_stat_statements_reset() /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/observers/query_statistics.rb:16:in `before'*/","calls":1,"total_time":0.156087,"max_time":0.156087,"mean_time":0.156087,"rows":1},{"query":"SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas($1)) AND c.relname = $2 AND c.relkind IN ($3,$4)","calls":3,"total_time":0.10787,"max_time":0.048748999999999994,"mean_time":0.035956666666666665,"rows":3},{"query":"SELECT t.oid, t.typname\nFROM pg_type as t\nWHERE t.typname IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.08729300000000001,"max_time":0.08729300000000001,"mean_time":0.08729300000000001,"rows":10},{"query":"SET SESSION timezone TO 'UTC' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.044639,"max_time":0.044639,"mean_time":0.044639,"rows":0},{"query":"INSERT INTO \"schema_migrations\" (\"version\") VALUES ($1) RETURNING \"version\" /*application:test,db_config_name:main,line:/lib/gitlab/database.rb:332:in `block in transaction'*/","calls":1,"total_time":0.038481,"max_time":0.038481,"mean_time":0.038481,"rows":1},{"query":"SET standard_conforming_strings = on /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.037511,"max_time":0.037511,"mean_time":0.037511,"rows":0},{"query":"SET SESSION statement_timeout TO '120s' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.030513,"max_time":0.030513,"mean_time":0.030513,"rows":0},{"query":"SET intervalstyle = iso_8601 /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.029864,"max_time":0.029864,"mean_time":0.029864,"rows":0},{"query":"set client_encoding to 'UTF8'","calls":1,"total_time":0.02569,"max_time":0.02569,"mean_time":0.02569,"rows":0},{"query":"SELECT \"ar_internal_metadata\".* FROM \"ar_internal_metadata\" WHERE \"ar_internal_metadata\".\"key\" = $1 LIMIT $2 /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.023552,"max_time":0.023552,"mean_time":0.023552,"rows":1},{"query":"SELECT $1 FROM pg_proc WHERE proname = $2 /*application:test,db_config_name:main,line:/lib/gitlab/database/schema_helpers.rb:20:in `function_exists?'*/","calls":1,"total_time":0.022626999999999998,"max_time":0.022626999999999998,"mean_time":0.022626999999999998,"rows":1},{"query":"set client_encoding to 'unicode'","calls":1,"total_time":0.017816,"max_time":0.017816,"mean_time":0.017816,"rows":0},{"query":"SET client_min_messages TO 'warning' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.01414,"max_time":0.01414,"mean_time":0.01414,"rows":0},{"query":"SELECT pg_try_advisory_lock($1)","calls":1,"total_time":0.010635,"max_time":0.010635,"mean_time":0.010635,"rows":1},{"query":"SELECT pg_advisory_unlock($1)","calls":1,"total_time":0.010166000000000001,"max_time":0.010166000000000001,"mean_time":0.010166000000000001,"rows":1},{"query":"SELECT current_database()","calls":1,"total_time":0.0070149999999999995,"max_time":0.0070149999999999995,"mean_time":0.0070149999999999995,"rows":1},{"query":"SHOW TIME ZONE /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","calls":1,"total_time":0.005459,"max_time":0.005459,"mean_time":0.005459,"rows":0},{"query":"COMMIT /*application:test,db_config_name:main,line:/lib/gitlab/database.rb:365:in `commit'*/","calls":1,"total_time":0.001526,"max_time":0.001526,"mean_time":0.001526,"rows":0},{"query":"BEGIN /*application:test,db_config_name:main,line:/db/post_migrate/20210604232017_drop_test_table.rb:5:in `change'*/","calls":1,"total_time":0.001408,"max_time":0.001408,"mean_time":0.001408,"rows":0}]}