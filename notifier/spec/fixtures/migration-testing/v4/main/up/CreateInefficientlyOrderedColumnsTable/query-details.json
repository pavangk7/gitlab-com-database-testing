[{"start_time":"2022-11-24T14:06:33.780097+00:00","end_time":"2022-11-24T14:06:33.822845+00:00","sql":"SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas(false)) AND c.relname = 'schema_migrations' AND c.relkind IN ('r','p')","binds":[]},{"start_time":"2022-11-24T14:06:33.825323+00:00","end_time":"2022-11-24T14:06:33.866088+00:00","sql":"SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas(false)) AND c.relname = 'ar_internal_metadata' AND c.relkind IN ('r','p')","binds":[]},{"start_time":"2022-11-24T14:06:33.866513+00:00","end_time":"2022-11-24T14:06:33.906810+00:00","sql":"SELECT current_database()","binds":[]},{"start_time":"2022-11-24T14:06:34.179190+00:00","end_time":"2022-11-24T14:06:34.223978+00:00","sql":"SET client_min_messages TO 'warning' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-11-24T14:06:34.224557+00:00","end_time":"2022-11-24T14:06:34.269492+00:00","sql":"SET standard_conforming_strings = on /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-11-24T14:06:34.270008+00:00","end_time":"2022-11-24T14:06:34.310863+00:00","sql":"SET intervalstyle = iso_8601 /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-11-24T14:06:34.311424+00:00","end_time":"2022-11-24T14:06:34.359182+00:00","sql":"SET SESSION statement_timeout TO '120s' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-11-24T14:06:34.359777+00:00","end_time":"2022-11-24T14:06:34.403693+00:00","sql":"SET SESSION timezone TO 'UTC' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-11-24T14:06:34.404288+00:00","end_time":"2022-11-24T14:06:34.450649+00:00","sql":"SELECT t.oid, t.typname\nFROM pg_type as t\nWHERE t.typname IN ('int2', 'int4', 'int8', 'oid', 'float4', 'float8', 'numeric', 'bool', 'timestamp', 'timestamptz')\n /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-11-24T14:06:34.451383+00:00","end_time":"2022-11-24T14:06:34.495768+00:00","sql":"SHOW TIME ZONE /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-11-24T14:06:34.536722+00:00","end_time":"2022-11-24T14:06:34.580094+00:00","sql":"SELECT pg_try_advisory_lock(3005434223539248480)","binds":[]},{"start_time":"2022-11-24T14:06:34.581122+00:00","end_time":"2022-11-24T14:06:34.674974+00:00","sql":"SELECT \"schema_migrations\".\"version\" FROM \"schema_migrations\" ORDER BY \"schema_migrations\".\"version\" ASC /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-11-24T14:06:34.723421+00:00","end_time":"2022-11-24T14:06:34.769812+00:00","sql":"BEGIN /*application:test,db_config_name:main,line:/lib/gitlab/database/migration_helpers/v2.rb:46:in `create_table'*/","binds":[]},{"start_time":"2022-11-24T14:06:34.770021+00:00","end_time":"2022-11-24T14:06:35.024187+00:00","sql":"CREATE TABLE \"inefficiently_ordered_columns_tables\" (\"id\" bigserial primary key, \"text_attr\" text, \"numeric_attr\" decimal, \"jsonb_attr\" jsonb, \"inet_attr\" inet, \"int8range_attr\" int8range, \"boolean_attr\" boolean, \"int4range_attr\" int4range, \"oid_attr\" oid, \"integer_attr\" integer, \"date_attr\" date, \"datetime_with_timezone_attr\" timestamptz, \"time_attr\" time, \"float_attr\" float, \"bigint_attr\" bigint, \"uuid_attr\" uuid, \"created_at\" timestamptz NOT NULL, \"updated_at\" timestamptz NOT NULL, CONSTRAINT check_e3e98d6856 CHECK (char_length(\"text_attr\") \u003c= 255)) /*application:test,db_config_name:main,line:/lib/gitlab/database/migration_helpers/v2.rb:46:in `create_table'*/","binds":[]},{"start_time":"2022-11-24T14:06:35.025010+00:00","end_time":"2022-11-24T14:06:35.109922+00:00","sql":"SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas(false)) AND c.relkind IN ('r','v','m','p','f')","binds":[]},{"start_time":"2022-11-24T14:06:35.114355+00:00","end_time":"2022-11-24T14:06:35.167670+00:00","sql":"INSERT INTO \"schema_migrations\" (\"version\") VALUES ('20221123151656') RETURNING \"version\" /*application:test,db_config_name:main,line:/lib/gitlab/database.rb:332:in `block in transaction'*/","binds":[]},{"start_time":"2022-11-24T14:06:35.168444+00:00","end_time":"2022-11-24T14:06:35.209963+00:00","sql":"COMMIT /*application:test,db_config_name:main,line:/lib/gitlab/database.rb:365:in `commit'*/","binds":[]},{"start_time":"2022-11-24T14:06:35.211153+00:00","end_time":"2022-11-24T14:06:35.259109+00:00","sql":"SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation \u003c\u003e t.typcollation\n WHERE a.attrelid = '\"ar_internal_metadata\"'::regclass\n   AND a.attnum \u003e 0 AND NOT a.attisdropped\n ORDER BY a.attnum\n","binds":[]},{"start_time":"2022-11-24T14:06:35.261423+00:00","end_time":"2022-11-24T14:06:35.320690+00:00","sql":"SELECT \"ar_internal_metadata\".* FROM \"ar_internal_metadata\" WHERE \"ar_internal_metadata\".\"key\" = 'environment' LIMIT 1 /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-11-24T14:06:35.327204+00:00","end_time":"2022-11-24T14:06:35.369250+00:00","sql":"BEGIN /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-11-24T14:06:35.369424+00:00","end_time":"2022-11-24T14:06:35.411430+00:00","sql":"UPDATE \"ar_internal_metadata\" SET \"value\" = 'test', \"updated_at\" = '2022-11-24 14:06:35.324867' WHERE \"ar_internal_metadata\".\"key\" = 'environment' /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/runner.rb:131:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-11-24T14:06:35.412276+00:00","end_time":"2022-11-24T14:06:35.453507+00:00","sql":"COMMIT /*application:test,db_config_name:main,line:/lib/gitlab/database.rb:365:in `commit'*/","binds":[]},{"start_time":"2022-11-24T14:06:35.453774+00:00","end_time":"2022-11-24T14:06:35.495547+00:00","sql":"SELECT pg_advisory_unlock(3005434223539248480)","binds":[]},{"start_time":"2022-11-24T14:06:35.540127+00:00","end_time":"2022-11-24T14:06:35.680041+00:00","sql":"select pg_database_size(current_database()) /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/observers/total_database_size_change.rb:25:in `get_total_database_size'*/","binds":[]}]
