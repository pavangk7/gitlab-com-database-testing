[{"start_time":"2022-09-30T21:33:44.387478+00:00","end_time":"2022-09-30T21:33:44.429448+00:00","sql":"SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas(false)) AND c.relname = 'schema_migrations' AND c.relkind IN ('r','p')","binds":[]},{"start_time":"2022-09-30T21:33:44.429864+00:00","end_time":"2022-09-30T21:33:44.471054+00:00","sql":"SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas(false)) AND c.relname = 'ar_internal_metadata' AND c.relkind IN ('r','p')","binds":[]},{"start_time":"2022-09-30T21:33:44.471356+00:00","end_time":"2022-09-30T21:33:44.512478+00:00","sql":"SELECT current_database()","binds":[]},{"start_time":"2022-09-30T21:33:44.759399+00:00","end_time":"2022-09-30T21:33:44.800004+00:00","sql":"SET client_min_messages TO 'warning' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:33:44.800598+00:00","end_time":"2022-09-30T21:33:44.841204+00:00","sql":"SET standard_conforming_strings = on /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:33:44.841770+00:00","end_time":"2022-09-30T21:33:44.882230+00:00","sql":"SET intervalstyle = iso_8601 /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:33:44.882826+00:00","end_time":"2022-09-30T21:33:44.923504+00:00","sql":"SET SESSION statement_timeout TO '120s' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:33:44.924159+00:00","end_time":"2022-09-30T21:33:44.964798+00:00","sql":"SET SESSION timezone TO 'UTC' /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:33:44.965556+00:00","end_time":"2022-09-30T21:33:45.008050+00:00","sql":"SELECT t.oid, t.typname\nFROM pg_type as t\nWHERE t.typname IN ('int2', 'int4', 'int8', 'oid', 'float4', 'float8', 'numeric', 'bool', 'timestamp', 'timestamptz')\n /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:33:45.008859+00:00","end_time":"2022-09-30T21:33:45.049532+00:00","sql":"SHOW TIME ZONE /*application:test,db_config_name:unknown,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:33:45.090111+00:00","end_time":"2022-09-30T21:33:45.136276+00:00","sql":"SELECT pg_try_advisory_lock(3005434223539248480)","binds":[]},{"start_time":"2022-09-30T21:33:45.137264+00:00","end_time":"2022-09-30T21:33:45.280768+00:00","sql":"SELECT \"schema_migrations\".\"version\" FROM \"schema_migrations\" ORDER BY \"schema_migrations\".\"version\" ASC /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:33:45.295588+00:00","end_time":"2022-09-30T21:33:45.444030+00:00","sql":"SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,\n                pg_catalog.obj_description(i.oid, 'pg_class') AS comment\nFROM pg_class t\nINNER JOIN pg_index d ON t.oid = d.indrelid\nINNER JOIN pg_class i ON d.indexrelid = i.oid\nLEFT JOIN pg_namespace n ON n.oid = i.relnamespace\nWHERE i.relkind IN ('i', 'I')\n  AND d.indisprimary = 'f'\n  AND t.relname = 'members'\n  AND n.nspname = ANY (current_schemas(false))\nORDER BY i.relname\n","binds":[]},{"start_time":"2022-09-30T21:33:45.444233+00:00","end_time":"2022-09-30T21:33:45.488460+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (8)\n","binds":[]},{"start_time":"2022-09-30T21:33:45.488715+00:00","end_time":"2022-09-30T21:33:45.532658+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (2)\n","binds":[]},{"start_time":"2022-09-30T21:33:45.532882+00:00","end_time":"2022-09-30T21:33:45.575201+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (15)\n","binds":[]},{"start_time":"2022-09-30T21:33:45.575444+00:00","end_time":"2022-09-30T21:33:45.619155+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (11)\n","binds":[]},{"start_time":"2022-09-30T21:33:45.619375+00:00","end_time":"2022-09-30T21:33:45.663044+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (12)\n","binds":[]},{"start_time":"2022-09-30T21:33:45.663264+00:00","end_time":"2022-09-30T21:33:45.706515+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (20)\n","binds":[]},{"start_time":"2022-09-30T21:33:45.706769+00:00","end_time":"2022-09-30T21:33:45.748906+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (21)\n","binds":[]},{"start_time":"2022-09-30T21:33:45.749149+00:00","end_time":"2022-09-30T21:33:45.791248+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (14)\n","binds":[]},{"start_time":"2022-09-30T21:33:45.791522+00:00","end_time":"2022-09-30T21:33:45.834678+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (3,4)\n","binds":[]},{"start_time":"2022-09-30T21:33:45.834921+00:00","end_time":"2022-09-30T21:33:45.876948+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (5,2)\n","binds":[]},{"start_time":"2022-09-30T21:33:45.877178+00:00","end_time":"2022-09-30T21:33:45.919370+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (5,8)\n","binds":[]},{"start_time":"2022-09-30T21:33:45.919619+00:00","end_time":"2022-09-30T21:33:45.961725+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (5,3,4)\n","binds":[]},{"start_time":"2022-09-30T21:33:45.961976+00:00","end_time":"2022-09-30T21:33:46.003704+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (3,4)\n","binds":[]},{"start_time":"2022-09-30T21:33:46.003944+00:00","end_time":"2022-09-30T21:33:46.045665+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (1)\n","binds":[]},{"start_time":"2022-09-30T21:33:46.045893+00:00","end_time":"2022-09-30T21:33:46.087837+00:00","sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 33541\nAND a.attnum IN (19)\n","binds":[]},{"start_time":"2022-09-30T21:33:46.088830+00:00","end_time":"2022-09-30T21:33:46.130758+00:00","sql":"SHOW statement_timeout /*application:test,db_config_name:main,line:/lib/gitlab/database/migration_helpers.rb:1624:in `statement_timeout_disabled?'*/","binds":[]},{"start_time":"2022-09-30T21:33:46.131525+00:00","end_time":"2022-09-30T21:33:46.174194+00:00","sql":"SET statement_timeout TO 0 /*application:test,db_config_name:main,line:/lib/gitlab/database/migration_helpers.rb:386:in `disable_statement_timeout'*/","binds":[]},{"start_time":"2022-09-30T21:33:46.174801+00:00","end_time":"2022-09-30T21:33:46.216560+00:00","sql":"SHOW max_identifier_length","binds":[]},{"start_time":"2022-09-30T21:33:46.217339+00:00","end_time":"2022-09-30T21:34:40.039780+00:00","sql":"CREATE INDEX CONCURRENTLY \"tmp_index_for_null_member_namespace_id\" ON \"members\" (\"member_namespace_id\") WHERE member_namespace_id IS NULL /*application:test,db_config_name:main,line:/lib/gitlab/database/migration_helpers.rb:167:in `block in add_concurrent_index'*/","binds":[]},{"start_time":"2022-09-30T21:34:40.040531+00:00","end_time":"2022-09-30T21:34:40.083019+00:00","sql":"RESET statement_timeout /*application:test,db_config_name:main,line:/lib/gitlab/database/migration_helpers.rb:390:in `disable_statement_timeout'*/","binds":[]},{"start_time":"2022-09-30T21:34:40.083549+00:00","end_time":"2022-09-30T21:34:40.125369+00:00","sql":"SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas(false)) AND c.relname = 'postgres_async_indexes' AND c.relkind IN ('r','p')","binds":[]},{"start_time":"2022-09-30T21:34:40.125647+00:00","end_time":"2022-09-30T21:34:40.180209+00:00","sql":"SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas(false)) AND c.relname = 'postgres_async_indexes' AND c.relkind IN ('r','p')","binds":[]},{"start_time":"2022-09-30T21:34:40.183071+00:00","end_time":"2022-09-30T21:34:40.227507+00:00","sql":"SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation \u003c\u003e t.typcollation\n WHERE a.attrelid = '\"postgres_async_indexes\"'::regclass\n   AND a.attnum \u003e 0 AND NOT a.attisdropped\n ORDER BY a.attnum\n","binds":[]},{"start_time":"2022-09-30T21:34:40.230038+00:00","end_time":"2022-09-30T21:34:40.312064+00:00","sql":"SELECT \"postgres_async_indexes\".* FROM \"postgres_async_indexes\" WHERE \"postgres_async_indexes\".\"name\" = 'tmp_index_for_null_member_namespace_id' LIMIT 1 /*application:test,db_config_name:main,line:/lib/gitlab/database/async_indexes/migration_helpers.rb:24:in `unprepare_async_index_by_name'*/","binds":[]},{"start_time":"2022-09-30T21:34:40.314347+00:00","end_time":"2022-09-30T21:34:40.359090+00:00","sql":"BEGIN /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/lock_retry_mixin.rb:36:in `ddl_transaction'*/","binds":[]},{"start_time":"2022-09-30T21:34:40.359232+00:00","end_time":"2022-09-30T21:34:40.401174+00:00","sql":"INSERT INTO \"schema_migrations\" (\"version\") VALUES ('20220929081645') RETURNING \"version\" /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/lock_retry_mixin.rb:36:in `ddl_transaction'*/","binds":[]},{"start_time":"2022-09-30T21:34:40.401836+00:00","end_time":"2022-09-30T21:34:40.443611+00:00","sql":"COMMIT /*application:test,db_config_name:main,line:/lib/gitlab/database.rb:365:in `commit'*/","binds":[]},{"start_time":"2022-09-30T21:34:40.444961+00:00","end_time":"2022-09-30T21:34:40.487570+00:00","sql":"SELECT \"ar_internal_metadata\".* FROM \"ar_internal_metadata\" WHERE \"ar_internal_metadata\".\"key\" = 'environment' LIMIT 1 /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/runner.rb:127:in `block (3 levels) in run'*/","binds":[]},{"start_time":"2022-09-30T21:34:40.488699+00:00","end_time":"2022-09-30T21:34:40.531590+00:00","sql":"SELECT pg_advisory_unlock(3005434223539248480)","binds":[]},{"start_time":"2022-09-30T21:34:40.573992+00:00","end_time":"2022-09-30T21:34:40.796271+00:00","sql":"select pg_database_size(current_database()) /*application:test,db_config_name:main,line:/lib/gitlab/database/migrations/observers/total_database_size_change.rb:25:in `get_total_database_size'*/","binds":[]}]
