[
  {
    "migration": 20210602144718,
    "walltime": 1.9509822260588408,
    "success": true,
    "total_database_size_change": 32768,
    "query_statistics": [
      {
        "query": "CREATE TABLE \"test_tables\" (\"id\" bigserial primary key, \"stars\" bigint DEFAULT 0 NOT NULL, \"created_at\" timestamp(6) NOT NULL, \"updated_at\" timestamp(6) NOT NULL, \"title\" text, \"notes\" text) /*application:test*/",
        "calls": 1,
        "total_time": 269.888734,
        "max_time": 269.888734,
        "mean_time": 269.888734,
        "rows": 0
      },
      {
        "query": "select pg_database_size(current_database()) /*application:test*/",
        "calls": 1,
        "total_time": 87.621755,
        "max_time": 87.621755,
        "mean_time": 87.621755,
        "rows": 1
      },
      {
        "query": "ALTER TABLE \"test_tables\"\nADD CONSTRAINT \"check_0770ba173a\" CHECK (char_length(\"title\") <= 128),\nADD CONSTRAINT \"check_9cfc473dbc\" CHECK (char_length(\"notes\") <= 1024)\n /*application:test*/",
        "calls": 1,
        "total_time": 24.663573,
        "max_time": 24.663573,
        "mean_time": 24.663573,
        "rows": 0
      },
      {
        "query": "INSERT INTO \"schema_migrations\" (\"version\") VALUES ($1) RETURNING \"version\" /*application:test*/",
        "calls": 1,
        "total_time": 15.027777,
        "max_time": 15.027777,
        "mean_time": 15.027777,
        "rows": 1
      },
      {
        "query": "SELECT t.oid, t.typname, t.typelem, t.typdelim, t.typinput, r.rngsubtype, t.typtype, t.typbasetype\nFROM pg_type as t\nLEFT JOIN pg_range as r ON oid = rngtypid\nWHERE\n  t.typname IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40)\n  OR t.typtype IN ($41, $42, $43)\n  OR t.typinput = $44::regprocedure\n  OR t.typelem != $45\n /*application:test*/",
        "calls": 1,
        "total_time": 6.592925,
        "max_time": 6.592925,
        "mean_time": 6.592925,
        "rows": 811
      },
      {
        "query": "select pg_stat_statements_reset() /*application:test*/",
        "calls": 1,
        "total_time": 2.624152,
        "max_time": 2.624152,
        "mean_time": 2.624152,
        "rows": 1
      },
      {
        "query": "SELECT \"schema_migrations\".\"version\" FROM \"schema_migrations\" ORDER BY \"schema_migrations\".\"version\" ASC /*application:test*/",
        "calls": 1,
        "total_time": 1.303362,
        "max_time": 1.303362,
        "mean_time": 1.303362,
        "rows": 3814
      },
      {
        "query": "SELECT \"ar_internal_metadata\".* FROM \"ar_internal_metadata\" WHERE \"ar_internal_metadata\".\"key\" = $1 LIMIT $2 /*application:test*/",
        "calls": 1,
        "total_time": 0.8116570000000001,
        "max_time": 0.8116570000000001,
        "mean_time": 0.8116570000000001,
        "rows": 1
      },
      {
        "query": "SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation\n WHERE a.attrelid = $1::regclass\n   AND a.attnum > $2 AND NOT a.attisdropped\n ORDER BY a.attnum",
        "calls": 1,
        "total_time": 0.348813,
        "max_time": 0.348813,
        "mean_time": 0.348813,
        "rows": 4
      },
      {
        "query": "SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas($1)) AND c.relname = $2 AND c.relkind IN ($3,$4)",
        "calls": 4,
        "total_time": 0.142657,
        "max_time": 0.048652,
        "mean_time": 0.03566425,
        "rows": 3
      },
      {
        "query": "UPDATE \"ar_internal_metadata\" SET \"value\" = $1, \"updated_at\" = $2 WHERE \"ar_internal_metadata\".\"key\" = $3 /*application:test*/",
        "calls": 1,
        "total_time": 0.129794,
        "max_time": 0.129794,
        "mean_time": 0.129794,
        "rows": 1
      },
      {
        "query": "SELECT t.oid, t.typname\nFROM pg_type as t\nWHERE t.typname IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n /*application:test*/",
        "calls": 1,
        "total_time": 0.063659,
        "max_time": 0.063659,
        "mean_time": 0.063659,
        "rows": 10
      },
      {
        "query": "SET SESSION timezone TO 'UTC' /*application:test*/",
        "calls": 1,
        "total_time": 0.048744,
        "max_time": 0.048744,
        "mean_time": 0.048744,
        "rows": 0
      },
      {
        "query": "SET SESSION statement_timeout TO '120s' /*application:test*/",
        "calls": 1,
        "total_time": 0.03398,
        "max_time": 0.03398,
        "mean_time": 0.03398,
        "rows": 0
      },
      {
        "query": "set client_encoding to 'UTF8'",
        "calls": 1,
        "total_time": 0.030568,
        "max_time": 0.030568,
        "mean_time": 0.030568,
        "rows": 0
      },
      {
        "query": "SET standard_conforming_strings = on /*application:test*/",
        "calls": 1,
        "total_time": 0.027068,
        "max_time": 0.027068,
        "mean_time": 0.027068,
        "rows": 0
      },
      {
        "query": "SET intervalstyle = iso_8601 /*application:test*/",
        "calls": 1,
        "total_time": 0.024355,
        "max_time": 0.024355,
        "mean_time": 0.024355,
        "rows": 0
      },
      {
        "query": "SELECT $1 FROM pg_proc WHERE proname = $2 /*application:test*/",
        "calls": 1,
        "total_time": 0.022703,
        "max_time": 0.022703,
        "mean_time": 0.022703,
        "rows": 1
      },
      {
        "query": "set client_encoding to 'unicode'",
        "calls": 1,
        "total_time": 0.022473,
        "max_time": 0.022473,
        "mean_time": 0.022473,
        "rows": 0
      },
      {
        "query": "SET LOCAL lock_timeout TO '100ms' /*application:test*/",
        "calls": 1,
        "total_time": 0.015397,
        "max_time": 0.015397,
        "mean_time": 0.015397,
        "rows": 0
      },
      {
        "query": "SELECT pg_try_advisory_lock($1)",
        "calls": 1,
        "total_time": 0.012542,
        "max_time": 0.012542,
        "mean_time": 0.012542,
        "rows": 1
      },
      {
        "query": "SET client_min_messages TO 'warning' /*application:test*/",
        "calls": 1,
        "total_time": 0.01186,
        "max_time": 0.01186,
        "mean_time": 0.01186,
        "rows": 0
      },
      {
        "query": "SELECT pg_advisory_unlock($1)",
        "calls": 1,
        "total_time": 0.010974000000000001,
        "max_time": 0.010974000000000001,
        "mean_time": 0.010974000000000001,
        "rows": 1
      },
      {
        "query": "SELECT current_database()",
        "calls": 1,
        "total_time": 0.008932,
        "max_time": 0.008932,
        "mean_time": 0.008932,
        "rows": 1
      },
      {
        "query": "RESET idle_in_transaction_session_timeout",
        "calls": 1,
        "total_time": 0.007763,
        "max_time": 0.007763,
        "mean_time": 0.007763,
        "rows": 0
      },
      {
        "query": "SELECT $1::regtype::oid",
        "calls": 1,
        "total_time": 0.006739,
        "max_time": 0.006739,
        "mean_time": 0.006739,
        "rows": 1
      },
      {
        "query": "SHOW TIME ZONE /*application:test*/",
        "calls": 1,
        "total_time": 0.005972,
        "max_time": 0.005972,
        "mean_time": 0.005972,
        "rows": 0
      },
      {
        "query": "COMMIT /*application:test*/",
        "calls": 2,
        "total_time": 0.003749,
        "max_time": 0.002213,
        "mean_time": 0.0018745,
        "rows": 0
      },
      {
        "query": "SAVEPOINT active_record_1 /*application:test*/",
        "calls": 1,
        "total_time": 0.003386,
        "max_time": 0.003386,
        "mean_time": 0.003386,
        "rows": 0
      },
      {
        "query": "BEGIN /*application:test*/",
        "calls": 2,
        "total_time": 0.003384,
        "max_time": 0.001768,
        "mean_time": 0.001692,
        "rows": 0
      },
      {
        "query": "RELEASE SAVEPOINT active_record_1 /*application:test*/",
        "calls": 1,
        "total_time": 0.002913,
        "max_time": 0.002913,
        "mean_time": 0.002913,
        "rows": 0
      },
      {
        "query": "RESET lock_timeout /*application:test*/",
        "calls": 1,
        "total_time": 0.001531,
        "max_time": 0.001531,
        "mean_time": 0.001531,
        "rows": 0
      }
    ]
  },
  {
    "migration": 20210604232017,
    "walltime": 1.1633568555116653,
    "success": true,
    "total_database_size_change": -24576,
    "query_statistics": [
      {
        "query": "select pg_database_size(current_database()) /*application:test*/",
        "calls": 1,
        "total_time": 93.953206,
        "max_time": 93.953206,
        "mean_time": 93.953206,
        "rows": 1
      },
      {
        "query": "SELECT t.oid, t.typname, t.typelem, t.typdelim, t.typinput, r.rngsubtype, t.typtype, t.typbasetype\nFROM pg_type as t\nLEFT JOIN pg_range as r ON oid = rngtypid\nWHERE\n  t.typname IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40)\n  OR t.typtype IN ($41, $42, $43)\n  OR t.typinput = $44::regprocedure\n  OR t.typelem != $45\n /*application:test*/",
        "calls": 1,
        "total_time": 6.257006,
        "max_time": 6.257006,
        "mean_time": 6.257006,
        "rows": 812
      },
      {
        "query": "DROP TABLE \"test_tables\" /*application:test*/",
        "calls": 1,
        "total_time": 5.705808,
        "max_time": 5.705808,
        "mean_time": 5.705808,
        "rows": 0
      },
      {
        "query": "SELECT \"schema_migrations\".\"version\" FROM \"schema_migrations\" ORDER BY \"schema_migrations\".\"version\" ASC /*application:test*/",
        "calls": 1,
        "total_time": 1.395532,
        "max_time": 1.395532,
        "mean_time": 1.395532,
        "rows": 3816
      },
      {
        "query": "select pg_stat_statements_reset() /*application:test*/",
        "calls": 1,
        "total_time": 0.144254,
        "max_time": 0.144254,
        "mean_time": 0.144254,
        "rows": 1
      },
      {
        "query": "SELECT c.relname FROM pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace WHERE n.nspname = ANY (current_schemas($1)) AND c.relname = $2 AND c.relkind IN ($3,$4)",
        "calls": 3,
        "total_time": 0.098083,
        "max_time": 0.041082,
        "mean_time": 0.03269433333333333,
        "rows": 3
      },
      {
        "query": "SELECT t.oid, t.typname\nFROM pg_type as t\nWHERE t.typname IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n /*application:test*/",
        "calls": 1,
        "total_time": 0.064982,
        "max_time": 0.064982,
        "mean_time": 0.064982,
        "rows": 10
      },
      {
        "query": "INSERT INTO \"schema_migrations\" (\"version\") VALUES ($1) RETURNING \"version\" /*application:test*/",
        "calls": 1,
        "total_time": 0.043854,
        "max_time": 0.043854,
        "mean_time": 0.043854,
        "rows": 1
      },
      {
        "query": "SET SESSION timezone TO 'UTC' /*application:test*/",
        "calls": 1,
        "total_time": 0.038842,
        "max_time": 0.038842,
        "mean_time": 0.038842,
        "rows": 0
      },
      {
        "query": "set client_encoding to 'UTF8'",
        "calls": 1,
        "total_time": 0.029887,
        "max_time": 0.029887,
        "mean_time": 0.029887,
        "rows": 0
      },
      {
        "query": "SELECT $1 FROM pg_proc WHERE proname = $2 /*application:test*/",
        "calls": 1,
        "total_time": 0.028482,
        "max_time": 0.028482,
        "mean_time": 0.028482,
        "rows": 1
      },
      {
        "query": "SELECT \"ar_internal_metadata\".* FROM \"ar_internal_metadata\" WHERE \"ar_internal_metadata\".\"key\" = $1 LIMIT $2 /*application:test*/",
        "calls": 1,
        "total_time": 0.027630000000000002,
        "max_time": 0.027630000000000002,
        "mean_time": 0.027630000000000002,
        "rows": 1
      },
      {
        "query": "SET standard_conforming_strings = on /*application:test*/",
        "calls": 1,
        "total_time": 0.026483,
        "max_time": 0.026483,
        "mean_time": 0.026483,
        "rows": 0
      },
      {
        "query": "SET SESSION statement_timeout TO '120s' /*application:test*/",
        "calls": 1,
        "total_time": 0.023953,
        "max_time": 0.023953,
        "mean_time": 0.023953,
        "rows": 0
      },
      {
        "query": "SET intervalstyle = iso_8601 /*application:test*/",
        "calls": 1,
        "total_time": 0.023268,
        "max_time": 0.023268,
        "mean_time": 0.023268,
        "rows": 0
      },
      {
        "query": "set client_encoding to 'unicode'",
        "calls": 1,
        "total_time": 0.021071,
        "max_time": 0.021071,
        "mean_time": 0.021071,
        "rows": 0
      },
      {
        "query": "SELECT pg_try_advisory_lock($1)",
        "calls": 1,
        "total_time": 0.015007999999999999,
        "max_time": 0.015007999999999999,
        "mean_time": 0.015007999999999999,
        "rows": 1
      },
      {
        "query": "SET client_min_messages TO 'warning' /*application:test*/",
        "calls": 1,
        "total_time": 0.014457,
        "max_time": 0.014457,
        "mean_time": 0.014457,
        "rows": 0
      },
      {
        "query": "SELECT pg_advisory_unlock($1)",
        "calls": 1,
        "total_time": 0.009487,
        "max_time": 0.009487,
        "mean_time": 0.009487,
        "rows": 1
      },
      {
        "query": "SELECT current_database()",
        "calls": 1,
        "total_time": 0.007606,
        "max_time": 0.007606,
        "mean_time": 0.007606,
        "rows": 1
      },
      {
        "query": "SHOW TIME ZONE /*application:test*/",
        "calls": 1,
        "total_time": 0.006622,
        "max_time": 0.006622,
        "mean_time": 0.006622,
        "rows": 0
      },
      {
        "query": "COMMIT /*application:test*/",
        "calls": 1,
        "total_time": 0.001837,
        "max_time": 0.001837,
        "mean_time": 0.001837,
        "rows": 0
      },
      {
        "query": "BEGIN /*application:test*/",
        "calls": 1,
        "total_time": 0.001465,
        "max_time": 0.001465,
        "mean_time": 0.001465,
        "rows": 0
      }
    ]
  }
]